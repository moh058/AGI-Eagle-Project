name: AGI-Test-Connection
on:
  push:
  workflow_dispatch:

jobs:
  test_bot:
    runs-on: ubuntu-latest
    steps:
      - name: Test Telegram Pulse
        run: |
          # Ù…Ø­Ø§ÙˆÙ„Ø© Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø© ØªØ¬Ø±ÙŠØ¨ÙŠØ© Ø¨Ø³ÙŠØ·Ø© Ø¬Ø¯Ø§Ù‹
          RESPONSE=$(curl -s -w "%{http_code}" -X POST https://api.telegram.org/bot${{ secrets.BOT_TOKEN }}/sendMessage \
               -d "chat_id=${{ secrets.CHAT_ID }}" \
               -d "text=ğŸ“¡ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø§ØªØµØ§Ù„: Ø§Ù„Ù…Ø­Ø±Ùƒ ÙŠØªØ­Ø¯Ø«! Ø¥Ø°Ø§ ÙˆØµÙ„Øª Ù‡Ø°Ù‡ Ø§Ù„Ø±Ø³Ø§Ù„Ø©ØŒ ÙØ¥Ù† Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø³Ù„ÙŠÙ…Ø©.")
          
          echo "Telegram Response Code: $RESPONSE"
          if [[ "$RESPONSE" != *"200"* ]]; then
            echo "Error: Could not send to Telegram. Check your Secrets!"
            exit 1
          fi
